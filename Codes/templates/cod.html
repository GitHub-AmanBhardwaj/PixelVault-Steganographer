{% extends 'base.html' %}
{% block title %}Encoder{% endblock title %}
{% block body %}
<div class="container" style="width: 60vw; margin-top: 50px;">
    <h1>Image Steganography: Encode Your Message</h1>
    
    <form action="/cod" method="POST" enctype="multipart/form-data" class="my-4">
        <div class="mb-3">
            <label for="file" class="form-label">Upload an Image:</label>
            <input type="file" class="form-control" id="file" name="file" accept="image/*" required>
        </div>
        <div class="mb-3">
            <label for="message" class="form-label">Enter Your Secret Message:</label>
            <input type="text" class="form-control" id="message" name="message" placeholder="Enter your secret message" required>
        </div>
        <button type="submit" class="btn btn-dark">Encode Message</button>
    </form>

    {% if encoded_image_url %}
    <div class="mt-5 text-center">
        <h4>Message Encoded Successfully!</h4>
        <p>Click below to download your encoded image:</p>
        <a href="{{ encoded_image_url }}" class="btn btn-outline-light">Download Encoded Image</a>
        <br><br>
        <img src="{{ encoded_image_url }}" alt="Encoded Image" class="rounded custom-shadow" style="max-width: 300px; margin-top: 20px;">
    </div>
    {% else %}
    <br>
    <br>
    <br>
    <br>
    {% endif %}
</div>
{% endblock body %}
